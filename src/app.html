<!DOCTYPE html>
<html class="h-full" lang="fr">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	%sveltekit.head%
	<style>
		/* Define the fade-out animation */
		@keyframes fadeOut {
			from {
				opacity: 1;
			}

			to {
				opacity: 0;
			}
		}

		.fade-out {
			animation: fadeOut 200ms ease-out forwards;
		}
	</style>
	<script>
		if (!window.matchMedia("(prefers-reduce-motion: reduce)").addEventListener) {
			function polyfillAddEventListener(mediaQueryList, eventName, listener) {
				if (mediaQueryList.addListener) {
					mediaQueryList.addListener(listener);
				}
			}
			var matchMediaInstance = window.matchMedia("(prefers-reduce-motion: reduce)");
			matchMediaInstance.constructor.prototype.addEventListener = function (eventName, listener) {
				polyfillAddEventListener(this, eventName, listener);
			}
		}
		if (!window.matchMedia("(prefers-reduce-motion: reduce)").removeEventListener) {
			function polyfillremoveEventListener(mediaQueryList, eventName, listener) {
				if (mediaQueryList.addListener) {
					mediaQueryList.addListener(listener);
				}
			}
			var matchMediaInstance = window.matchMedia("(prefers-reduce-motion: reduce)");
			matchMediaInstance.constructor.prototype.removeEventListener = function (eventName, listener) {
				polyfillremoveEventListener(this, eventName, listener);
			}
		}

		document.addEventListener("svelteLoaded", (event) => {
			console.log("DOM fully loaded and parsed");
			document.getElementById("loader").classList += ' fade-out'
		});
		document.addEventListener("svelteLoaded", (event) => {
			console.log("DOM fully loaded and parsed");
			document.getElementById("loader").classList += ' fade-out'
		});
	</script>
</head>

<!--* We toggle the data preloading for not saturating the server with useless calls because the user hover's a button. It will quick enough like this. -->

<body data-sveltekit-preload-data="off"
	class="!overscroll-none w-full h-full overflow-scroll bg-white dark:bg-gray-900">
	<!-- Burger menu button -->
	<!-- <div id="burger-menu" style="position: fixed; top: 16px; right: 16px; z-index: 1001;">
		<button id="burger-btn"
			style="width: 40px; height: 40px; background: #7e40b9; border: none; border-radius: 8px; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer;">
			<span style="display: block; width: 24px; height: 3px; background: #fff; margin: 3px 0;"></span>
			<span style="display: block; width: 24px; height: 3px; background: #fff; margin: 3px 0;"></span>
			<span style="display: block; width: 24px; height: 3px; background: #fff; margin: 3px 0;"></span>
		</button>
	</div> -->

	<!-- Full page menu overlay -->
	<!-- <div id="menu-overlay"
		style="display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(255,255,255,0.98); z-index: 2000; flex-direction: column; justify-content: center; align-items: center;">
		<button
			style="margin: 16px 0; width: 80vw; max-width: 400px; height: 48px; display: flex; align-items: center; justify-content: center; background: cyan; color: black; border-radius: 8px; text-decoration: none;">Button
			4</button>
		<a href="/dashboard"
			style="margin: 16px 0; width: 80vw; max-width: 400px; height: 48px; display: flex; align-items: center; justify-content: center; background: #7e40b9; color: #fff; border-radius: 8px; text-decoration: none;">DASHBOARD</a>
		<a href="/"
			style="margin: 16px 0; width: 80vw; max-width: 400px; height: 48px; display: flex; align-items: center; justify-content: center; background: #0b7ca0; color: #fff; border-radius: 8px; text-decoration: none;">LOGIN</a>
		<a href="/dashboard/patients/8b3fd191-079d-4a83-b3be-34f846a33d6e/situation-pathologique/2064eac1-c8ae-42cc-be3e-6e24608b6fb6/documents/create-B"
			style="margin: 16px 0; width: 80vw; max-width: 400px; height: 48px; display: flex; align-items: center; justify-content: center; background: #0b7ca0; color: #fff; border-radius: 8px; text-decoration: none;">Annexe B</a>
		<button id="close-menu"
			style="margin-top: 32px; width: 40px; height: 40px; background: #e74c3c; color: #fff; border: none; border-radius: 50%; font-size: 24px; cursor: pointer;">Ã—</button>
	</div>

	<script>
		// Burger menu logic
		const burgerBtn = document.getElementById('burger-btn');
		const menuOverlay = document.getElementById('menu-overlay');
		const closeMenu = document.getElementById('close-menu');

		burgerBtn.onclick = function () {
			menuOverlay.style.display = 'flex';
			document.body.style.overflow = 'hidden';
		};
		closeMenu.onclick = function () {
			menuOverlay.style.display = 'none';
			document.body.style.overflow = '';
		};
	</script> -->

	<div id="loader"
		style="background: rgb(126,64,185); background: linear-gradient(135deg, rgba(126,64,185,1) 0%, rgba(11,124,160,1) 100%); height: 100vh; width: 100vw; z-index: 999; position: fixed; top: 0; left: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; pointer-events: none;">
		<!-- <button id="loader-link" href="/dashboard/patients">BITE</button> -->
		<!-- <p id="message"></p> -->
		<!-- <script>
			document.getElementById("loader-link").addEventListener("click", function (event) {
				event.preventDefault(); // Prevent the default link behavior
				document.getElementById("message").textContent = "Chargement en cours..."; // Update the message
			});
		</script> -->
	</div>
	<div style="display: contents">%sveltekit.body%</div>
</body>

</html>